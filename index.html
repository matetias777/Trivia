<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia de Cultura General</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f5f5f5;
            margin: 0;
        }
        #contenedor-juego {
            display: none; /* Oculto al inicio */
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        #imagen {
            font-size: 40px;
            margin-bottom: 15px;
            text-align: center;
        }
        #pregunta {
            font-size: 24px;
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
        .opcion {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .opcion:hover {
            background-color: #0056b3;
        }
        #resultado {
            font-size: 18px;
            margin-top: 20px;
            text-align: center;
        }
        .correcto {
            color: green;
        }
        .incorrecto {
            color: red;
        }
        #inicio {
            padding: 15px 30px;
            font-size: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #inicio:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <button id="inicio">Â¡Comenzar Trivia!</button>
    <div id="contenedor-juego">
        <div id="imagen"></div>
        <div id="pregunta"></div>
        <div id="opciones"></div>
        <div id="resultado"></div>
    </div>

    <script>
        const preguntas = [
            { pregunta: "Â¿CuÃ¡l es la capital de Brasil?", opciones: ["RÃ­o de Janeiro", "Brasilia", "SÃ£o Paulo"], correcta: "Brasilia", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿En quÃ© aÃ±o llegÃ³ el hombre a la Luna?", opciones: ["1969", "1975", "1965"], correcta: "1969", genero: "historia", imagen: "ðŸ“œ" },
            { pregunta: "Â¿QuÃ© planeta es el mÃ¡s grande del sistema solar?", opciones: ["Tierra", "JÃºpiter", "Saturno"], correcta: "JÃºpiter", genero: "ciencia", imagen: "ðŸ§ª" },
            { pregunta: "Â¿QuiÃ©n escribiÃ³ 'Don Quijote de la Mancha'?", opciones: ["Miguel de Cervantes", "Jorge Luis Borges", "Lope de Vega"], correcta: "Miguel de Cervantes", genero: "literatura", imagen: "ðŸ“–" },
            { pregunta: "Â¿CuÃ¡l es el rÃ­o mÃ¡s largo del mundo?", opciones: ["Amazonas", "Nilo", "Misisipi"], correcta: "Amazonas", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿En quÃ© continente estÃ¡ Egipto?", opciones: ["Asia", "Ãfrica", "Europa"], correcta: "Ãfrica", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿QuÃ© elemento quÃ­mico tiene el sÃ­mbolo 'O'?", opciones: ["Oro", "OxÃ­geno", "Osmio"], correcta: "OxÃ­geno", genero: "ciencia", imagen: "ðŸ§ª" },
            { pregunta: "Â¿En quÃ© aÃ±o comenzÃ³ la Segunda Guerra Mundial?", opciones: ["1939", "1945", "1914"], correcta: "1939", genero: "historia", imagen: "ðŸ“œ" },
            { pregunta: "Â¿CuÃ¡l es el ocÃ©ano mÃ¡s grande del mundo?", opciones: ["AtlÃ¡ntico", "Ãndico", "PacÃ­fico"], correcta: "PacÃ­fico", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿QuiÃ©n pintÃ³ la 'Mona Lisa'?", opciones: ["Vincent van Gogh", "Leonardo da Vinci", "Pablo Picasso"], correcta: "Leonardo da Vinci", genero: "arte", imagen: "ðŸŽ¨" },
            { pregunta: "Â¿QuÃ© paÃ­s tiene mÃ¡s habitantes en el mundo?", opciones: ["India", "China", "Estados Unidos"], correcta: "China", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿CuÃ¡l es el metal mÃ¡s abundante en la corteza terrestre?", opciones: ["Hierro", "Aluminio", "Cobre"], correcta: "Aluminio", genero: "ciencia", imagen: "ðŸ§ª" },
            { pregunta: "Â¿En quÃ© aÃ±o se descubriÃ³ AmÃ©rica?", opciones: ["1492", "1453", "1519"], correcta: "1492", genero: "historia", imagen: "ðŸ“œ" },
            { pregunta: "Â¿QuÃ© instrumento mide la presiÃ³n atmosfÃ©rica?", opciones: ["TermÃ³metro", "BarÃ³metro", "HigrÃ³metro"], correcta: "BarÃ³metro", genero: "ciencia", imagen: "ðŸ§ª" },
            { pregunta: "Â¿CuÃ¡l es la capital de JapÃ³n?", opciones: ["Osaka", "Tokio", "Hiroshima"], correcta: "Tokio", genero: "geografia", imagen: "ðŸŒŽ" },
            { pregunta: "Â¿QuiÃ©n desarrollÃ³ la teorÃ­a de la relatividad?", opciones: ["Isaac Newton", "Albert Einstein", "Galileo Galilei"], correcta: "Albert Einstein", genero: "ciencia", imagen: "ðŸ§ª" },
            { pregunta: "Â¿QuÃ© animal es el mamÃ­fero mÃ¡s grande del mundo?", opciones: ["Elefante", "Ballena azul", "Oso polar"], correcta: "Ballena azul", genero: "biologia", imagen: "ðŸ¢" },
            { pregunta: "Â¿En quÃ© siglo naciÃ³ William Shakespeare?", opciones: ["Siglo XV", "Siglo XVI", "Siglo XVII"], correcta: "Siglo XVI", genero: "literatura", imagen: "ðŸ“–" }
        ];

        // Cargar sonidos
        const sonidoCorrecto = new Audio("https://assets.mixkit.co/active_storage/sfx/217/217-preview.mp3"); // Retro Achievement
        const sonidoIncorrecto = new Audio("https://assets.mixkit.co/active_storage/sfx/213/213-preview.mp3"); // Arcade Retro Game Over

        let preguntaActual = null;
        let preguntasUsadas = [];

        // BotÃ³n de inicio
        const botonInicio = document.getElementById("inicio");
        const contenedorJuego = document.getElementById("contenedor-juego");

        botonInicio.addEventListener("click", () => {
            // Desbloquear audio
            sonidoCorrecto.play().then(() => sonidoCorrecto.pause()).catch(() => {});
            sonidoIncorrecto.play().then(() => sonidoIncorrecto.pause()).catch(() => {});
            // Ocultar botÃ³n y mostrar juego
            botonInicio.style.display = "none";
            contenedorJuego.style.display = "flex"; // Cambiado a flex para centrar
            mostrarPregunta();
        });

        function mostrarPregunta() {
            if (preguntasUsadas.length === preguntas.length) {
                preguntasUsadas = [];
            }

            const preguntasDisponibles = preguntas.filter(p => !preguntasUsadas.includes(p));
            
            let nuevaPregunta;
            do {
                nuevaPregunta = preguntasDisponibles[Math.floor(Math.random() * preguntasDisponibles.length)];
            } while (nuevaPregunta === preguntaActual && preguntasDisponibles.length > 1);

            preguntaActual = nuevaPregunta;
            preguntasUsadas.push(preguntaActual);

            document.getElementById("imagen").innerText = preguntaActual.imagen;
            document.getElementById("pregunta").innerText = preguntaActual.pregunta;
            const opcionesDiv = document.getElementById("opciones");
            opcionesDiv.innerHTML = "";
            preguntaActual.opciones.forEach(opcion => {
                const boton = document.createElement("button");
                boton.innerText = opcion;
                boton.className = "opcion";
                boton.onclick = () => verificarRespuesta(opcion);
                opcionesDiv.appendChild(boton);
            });
            document.getElementById("resultado").innerHTML = "";
        }

        function verificarRespuesta(respuesta) {
            const resultado = document.getElementById("resultado");
            if (respuesta === preguntaActual.correcta) {
                resultado.innerHTML = '<span class="correcto">Â¡Correcto! ðŸŽ‰</span>';
                sonidoCorrecto.currentTime = 0;
                sonidoCorrecto.play().catch(error => console.log("Error al reproducir sonido correcto:", error));
            } else {
                resultado.innerHTML = `<span class="incorrecto">Incorrecto. La respuesta correcta es ${preguntaActual.correcta}.</span>`;
                sonidoIncorrecto.currentTime = 0;
                sonidoIncorrecto.play().catch(error => console.log("Error al reproducir sonido incorrecto:", error));
            }
            setTimeout(mostrarPregunta, 2000);
        }
    </script>
</body>
</html>